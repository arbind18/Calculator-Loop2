<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pension Calculator - Retirement Income Planning | Monthly Pension</title>
    <meta name="description" content="Calculate your retirement pension needs. Estimate monthly pension amount, total corpus required, and plan for inflation-adjusted retirement income.">
    <meta name="keywords" content="pension calculator, retirement planning, monthly pension, pension corpus, retirement income calculator">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --text-primary: #1a1a2e;
            --text-secondary: #666;
            --accent-gradient: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
            --success-color: #10b981;
            --border-color: #e0e0e0;
            --shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        [data-theme="dark"] {
            --bg-primary: #1a1a2e;
            --bg-secondary: #16213e;
            --text-primary: #ffffff;
            --text-secondary: #b8b8b8;
            --border-color: #2d3748;
            --shadow: 0 20px 60px rgba(0,0,0,0.6);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--accent-gradient); 
            min-height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            padding: 20px; 
        }
        .container { 
            max-width: 950px; 
            width: 100%; 
            background: var(--bg-primary); 
            border-radius: 20px; 
            box-shadow: var(--shadow); 
            padding: 40px; 
        }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        h1 { color: var(--text-primary); font-size: 2rem; }
        .subtitle { text-align: center; color: var(--text-secondary); margin-bottom: 30px; font-size: 1.1rem; }
        .theme-toggle { 
            background: var(--bg-secondary); 
            border: 2px solid var(--border-color); 
            padding: 8px 16px; 
            border-radius: 8px; 
            cursor: pointer; 
            font-size: 1.2rem; 
        }
        .input-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .input-group { margin-bottom: 20px; }
        label { 
            display: block; 
            margin-bottom: 8px; 
            color: var(--text-primary); 
            font-weight: 600; 
            font-size: 0.95rem;
        }
        input { 
            width: 100%; 
            padding: 12px; 
            border: 2px solid var(--border-color); 
            border-radius: 8px; 
            font-size: 1rem; 
            background: var(--bg-primary);
            color: var(--text-primary);
        }
        input:focus { outline: none; border-color: #8b5cf6; box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.1); }
        .btn { 
            width: 100%; 
            padding: 15px; 
            background: var(--accent-gradient); 
            color: white; 
            border: none; 
            border-radius: 8px; 
            font-size: 1.1rem; 
            cursor: pointer; 
            margin-top: 20px; 
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);
        }
        .btn:hover { transform: translateY(-2px); }
        .result { 
            margin-top: 30px; 
            padding: 30px; 
            background: var(--bg-secondary); 
            border-radius: 12px; 
            display: none; 
        }
        .corpus-card { 
            background: var(--accent-gradient); 
            padding: 30px; 
            border-radius: 12px; 
            text-align: center; 
            color: white; 
            margin-bottom: 25px;
        }
        .corpus-card h2 { font-size: 1.2rem; margin-bottom: 10px; opacity: 0.95; }
        .corpus-amount { font-size: 3.5rem; font-weight: bold; margin: 10px 0; }
        .metrics-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; }
        .metric-card { 
            background: var(--bg-primary); 
            padding: 20px; 
            border-radius: 10px; 
            border-left: 4px solid #8b5cf6; 
        }
        .metric-card h3 { color: var(--text-secondary); font-size: 0.85rem; margin-bottom: 8px; text-transform: uppercase; }
        .metric-value { color: var(--text-primary); font-size: 1.5rem; font-weight: bold; }
        .info-box { 
            background: rgba(139, 92, 246, 0.1); 
            border-left: 4px solid #8b5cf6; 
            padding: 20px; 
            margin-top: 25px;
            border-radius: 8px; 
        }
        .info-box h4 { color: var(--text-primary); margin-bottom: 10px; font-weight: 600; }
        .info-box p { color: var(--text-secondary); font-size: 0.9rem; line-height: 1.6; }
        .back-link { 
            display: inline-block; 
            margin-top: 20px; 
            color: #8b5cf6; 
            text-decoration: none; 
            font-weight: 600; 
        }
        @media (max-width: 768px) {
            .container { padding: 25px; }
            h1 { font-size: 1.5rem; }
            .corpus-amount { font-size: 2.5rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-user-clock"></i> Pension Calculator</h1>
            <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark Mode">
                <i class="fas fa-moon"></i>
            </button>
        </div>
        <p class="subtitle">Plan your retirement income and pension corpus</p>
        
        <div class="input-grid">
            <div class="input-group">
                <label><i class="fas fa-user"></i> Current Age</label>
                <input type="number" id="currentAge" value="30" min="18" max="100">
            </div>
            
            <div class="input-group">
                <label><i class="fas fa-calendar-check"></i> Retirement Age</label>
                <input type="number" id="retirementAge" value="60" min="40" max="80">
            </div>
        </div>
        
        <div class="input-group">
            <label><i class="fas fa-rupee-sign"></i> Desired Monthly Pension (₹)</label>
            <input type="number" id="monthlyPension" value="50000" min="0" step="5000">
        </div>
        
        <div class="input-group">
            <label><i class="fas fa-hourglass-end"></i> Life Expectancy (Years)</label>
            <input type="number" id="lifeExpectancy" value="80" min="60" max="100">
        </div>
        
        <div class="input-group">
            <label><i class="fas fa-chart-line"></i> Expected Returns During Retirement (%)</label>
            <input type="number" id="returnRate" value="6" min="0" max="20" step="0.5">
        </div>
        
        <div class="input-group">
            <label><i class="fas fa-percentage"></i> Inflation Rate (%)</label>
            <input type="number" id="inflationRate" value="6" min="0" max="15" step="0.5">
        </div>
        
        <button class="btn" onclick="calc()"><i class="fas fa-calculator"></i> Calculate Pension Needs</button>
        
        <div class="result" id="result">
            <div class="corpus-card">
                <h2><i class="fas fa-piggy-bank"></i> Required Pension Corpus</h2>
                <div class="corpus-amount" id="corpusAmount">₹0</div>
                <p style="opacity: 0.9; font-size: 1.1rem;" id="pensionDesc">Corpus needed at retirement</p>
            </div>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <h3><i class="fas fa-calendar"></i> Years to Retirement</h3>
                    <div class="metric-value" id="yearsToRetirement">0</div>
                </div>
                <div class="metric-card">
                    <h3><i class="fas fa-coins"></i> Monthly Pension</h3>
                    <div class="metric-value" id="monthlyPensionDisplay">₹0</div>
                </div>
                <div class="metric-card">
                    <h3><i class="fas fa-chart-area"></i> Annual Pension</h3>
                    <div class="metric-value" id="annualPension">₹0</div>
                </div>
                <div class="metric-card">
                    <h3><i class="fas fa-hourglass"></i> Retirement Duration</h3>
                    <div class="metric-value" id="retirementYears">0 years</div>
                </div>
            </div>
            
            <div class="info-box">
                <h4><i class="fas fa-info-circle"></i> How This Works</h4>
                <p>This calculator estimates the corpus you'll need at retirement to receive your desired monthly pension. It considers inflation and investment returns during retirement. The calculation uses the present value of annuity formula to determine how much you need to save by retirement age.</p>
            </div>
        </div>
        
        <a href="../../calculatorlooop.html" class="back-link"><i class="fas fa-arrow-left"></i> Back to All Calculators</a>
    </div>
    
    <script>
        function calc() {
            const currentAge = parseFloat(document.getElementById('currentAge').value);
            const retirementAge = parseFloat(document.getElementById('retirementAge').value);
            const monthlyPension = parseFloat(document.getElementById('monthlyPension').value);
            const lifeExpectancy = parseFloat(document.getElementById('lifeExpectancy').value);
            const returnRate = parseFloat(document.getElementById('returnRate').value) / 100;
            const inflationRate = parseFloat(document.getElementById('inflationRate').value) / 100;
            
            if (retirementAge > currentAge && lifeExpectancy > retirementAge && monthlyPension > 0) {
                const yearsToRetirement = retirementAge - currentAge;
                const retirementYears = lifeExpectancy - retirementAge;
                const annualPension = monthlyPension * 12;
                
                // Real rate of return (adjusted for inflation)
                const realRate = (1 + returnRate) / (1 + inflationRate) - 1;
                const monthlyRealRate = Math.pow(1 + realRate, 1/12) - 1;
                
                // Calculate corpus using present value of annuity
                const months = retirementYears * 12;
                let corpusRequired;
                
                if (monthlyRealRate === 0) {
                    corpusRequired = monthlyPension * months;
                } else {
                    corpusRequired = monthlyPension * ((1 - Math.pow(1 + monthlyRealRate, -months)) / monthlyRealRate);
                }
                
                document.getElementById('corpusAmount').textContent = '₹' + corpusRequired.toLocaleString('en-IN', {maximumFractionDigits: 0});
                document.getElementById('pensionDesc').textContent = 'Corpus needed at age ' + retirementAge;
                document.getElementById('yearsToRetirement').textContent = yearsToRetirement + (yearsToRetirement === 1 ? ' year' : ' years');
                document.getElementById('monthlyPensionDisplay').textContent = '₹' + monthlyPension.toLocaleString('en-IN');
                document.getElementById('annualPension').textContent = '₹' + annualPension.toLocaleString('en-IN');
                document.getElementById('retirementYears').textContent = retirementYears + ' years';
                
                document.getElementById('result').style.display = 'block';
            } else {
                alert('Please enter valid ages and pension amount. Retirement age must be greater than current age, and life expectancy must be greater than retirement age.');
            }
        }
        
        function toggleTheme() {
            const body = document.body;
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            body.setAttribute('data-theme', newTheme);
            
            const icon = document.querySelector('.theme-toggle i');
            icon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            
            localStorage.setItem('theme', newTheme);
        }
        
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.body.setAttribute('data-theme', savedTheme);
        if (savedTheme === 'dark') {
            document.querySelector('.theme-toggle i').className = 'fas fa-sun';
        }
        
        document.querySelectorAll('input').forEach(el => {
            el.addEventListener('input', calc);
        });
        
        calc();
    </script>
</body>
</html>
