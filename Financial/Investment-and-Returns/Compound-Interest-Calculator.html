<!DOCTYPE html><!DOCTYPE html>

<html lang="en"><html lang="en">

<head><head>

    <meta charset="UTF-8">    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Advanced Compound Interest Calculator with Charts | Financial Tools</title>    <title>Advanced Compound Interest Calculator with Charts | Financial Tools</title>

    <meta name="description" content="Calculate compound interest with detailed charts, breakdown tables, and comparison graphs. Advanced features include multiple compounding frequencies, additional contributions, and yearly breakdown.">    <meta name="description" content="Calculate compound interest with detailed charts, breakdown tables, and comparison graphs. Advanced features include multiple compounding frequencies, additional contributions, and yearly breakdown.">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <style>    <style>

        * { margin: 0; padding: 0; box-sizing: border-box; }        * { margin: 0; padding: 0; box-sizing: border-box; }

                

        body {         body { 

            font-family: 'Inter', 'Segoe UI', sans-serif;             font-family: 'Inter', 'Segoe UI', sans-serif; 

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);             background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 

            min-height: 100vh;             min-height: 100vh; 

            padding: 20px;             padding: 20px; 

        }        }

                

        .container {         .container { 

            max-width: 1200px;             max-width: 1200px; 

            width: 100%;             width: 100%; 

            background: white;             background: white; 

            border-radius: 20px;             border-radius: 20px; 

            box-shadow: 0 20px 60px rgba(0,0,0,0.3);             box-shadow: 0 20px 60px rgba(0,0,0,0.3); 

            padding: 40px;             padding: 40px; 

            margin: 0 auto;            margin: 0 auto;

        }        }

                

        h1 {         h1 { 

            color: #1a1a2e;             color: #1a1a2e; 

            text-align: center;             text-align: center; 

            margin-bottom: 10px;             margin-bottom: 10px; 

            font-size: 2.2rem;            font-size: 2.2rem;

            font-weight: 700;            font-weight: 700;

        }        }

                

        .subtitle {        .subtitle {

            text-align: center;            text-align: center;

            color: #666;            color: #666;

            margin-bottom: 30px;            margin-bottom: 30px;

            font-size: 1rem;            font-size: 1rem;

        }        }

                

        .layout {        .layout {

            display: grid;            display: grid;

            grid-template-columns: 1fr 1fr;            grid-template-columns: 1fr 1fr;

            gap: 30px;            gap: 30px;

            margin-top: 30px;            margin-top: 30px;

        }        }

                

        .input-section {        .input-section {

            background: #f8f9fa;            background: #f8f9fa;

            padding: 25px;            padding: 25px;

            border-radius: 15px;            border-radius: 15px;

        }        }

                

        .input-group {         .input-group { 

            margin-bottom: 20px;             margin-bottom: 20px; 

        }        }

                

        label {         label { 

            display: block;             display: block; 

            margin-bottom: 8px;             margin-bottom: 8px; 

            color: #333;             color: #333; 

            font-weight: 600;            font-weight: 600;

            font-size: 0.9rem;            font-size: 0.9rem;

        }        }

                

        input, select {         input, select { 

            width: 100%;             width: 100%; 

            padding: 12px;             padding: 12px; 

            border: 2px solid #e0e0e0;             border: 2px solid #e0e0e0; 

            border-radius: 8px;             border-radius: 8px; 

            font-size: 1rem;            font-size: 1rem;

            transition: all 0.3s;            transition: all 0.3s;

        }        }

                

        input:focus, select:focus {        input:focus, select:focus {

            outline: none;            outline: none;

            border-color: #667eea;            border-color: #667eea;

            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);

        }        }

                

        .range-container {        .range-container {

            display: flex;            display: flex;

            align-items: center;            align-items: center;

            gap: 15px;            gap: 15px;

        }        }

                

        input[type="range"] {        input[type="range"] {

            flex: 1;            flex: 1;

        }        }

                

        .range-value {        .range-value {

            min-width: 80px;            min-width: 80px;

            padding: 8px 12px;            padding: 8px 12px;

            background: white;            background: white;

            border: 2px solid #e0e0e0;            border: 2px solid #e0e0e0;

            border-radius: 8px;            border-radius: 8px;

            text-align: center;            text-align: center;

            font-weight: 600;            font-weight: 600;

            color: #667eea;            color: #667eea;

        }        }

                

        .btn {         .btn { 

            width: 100%;             width: 100%; 

            padding: 15px;             padding: 15px; 

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);             background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 

            color: white;             color: white; 

            border: none;             border: none; 

            border-radius: 10px;             border-radius: 10px; 

            font-size: 1.1rem;             font-size: 1.1rem; 

            cursor: pointer;             cursor: pointer; 

            margin-top: 20px;            margin-top: 20px;

            font-weight: 600;            font-weight: 600;

            transition: transform 0.2s;            transition: transform 0.2s;

        }        }

                

        .btn:hover {        .btn:hover {

            transform: translateY(-2px);            transform: translateY(-2px);

            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);

        }        }

                

        .result-section {        .result-section {

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

            padding: 25px;            padding: 25px;

            border-radius: 15px;            border-radius: 15px;

            color: white;            color: white;

        }        }

                

        .result-cards {        .result-cards {

            display: grid;            display: grid;

            grid-template-columns: 1fr 1fr;            grid-template-columns: 1fr 1fr;

            gap: 15px;            gap: 15px;

            margin-bottom: 20px;            margin-bottom: 20px;

        }        }

                

        .result-card {        .result-card {

            background: rgba(255, 255, 255, 0.2);            background: rgba(255, 255, 255, 0.2);

            backdrop-filter: blur(10px);            backdrop-filter: blur(10px);

            padding: 20px;            padding: 20px;

            border-radius: 12px;            border-radius: 12px;

            text-align: center;            text-align: center;

        }        }

                

        .result-card h3 {        .result-card h3 {

            font-size: 0.85rem;            font-size: 0.85rem;

            font-weight: 500;            font-weight: 500;

            margin-bottom: 10px;            margin-bottom: 10px;

            opacity: 0.9;            opacity: 0.9;

        }        }

                

        .result-card .value {        .result-card .value {

            font-size: 1.8rem;            font-size: 1.8rem;

            font-weight: 700;            font-weight: 700;

            color: white;            color: white;

        }        }

                

        .chart-container {        .chart-container {

            background: white;            background: white;

            padding: 20px;            padding: 20px;

            border-radius: 12px;            border-radius: 12px;

            margin-top: 20px;            margin-top: 20px;

            height: 300px;            height: 300px;

            position: relative;            position: relative;

        }        }

                

        .full-width-section {        .full-width-section {

            margin-top: 30px;            margin-top: 30px;

        }        }

                

        .breakdown-table {        .breakdown-table {

            background: white;            background: white;

            border-radius: 15px;            border-radius: 15px;

            padding: 25px;            padding: 25px;

            margin-top: 20px;            margin-top: 20px;

            max-height: 400px;            max-height: 400px;

            overflow-y: auto;            overflow-y: auto;

        }        }

                

        table {        table {

            width: 100%;            width: 100%;

            border-collapse: collapse;            border-collapse: collapse;

        }        }

                

        th {        th {

            background: #667eea;            background: #667eea;

            color: white;            color: white;

            padding: 12px;            padding: 12px;

            text-align: left;            text-align: left;

            font-weight: 600;            font-weight: 600;

            position: sticky;            position: sticky;

            top: 0;            top: 0;

        }        }

                

        td {        td {

            padding: 12px;            padding: 12px;

            border-bottom: 1px solid #e0e0e0;            border-bottom: 1px solid #e0e0e0;

        }        }

                

        tr:hover {        tr:hover {

            background: #f8f9fa;            background: #f8f9fa;

        }        }

                

        .back-link {         .back-link { 

            display: inline-block;             display: inline-block; 

            margin-top: 20px;             margin-top: 20px; 

            color: #667eea;             color: #667eea; 

            text-decoration: none;            text-decoration: none;

            font-weight: 600;            font-weight: 600;

            transition: all 0.3s;            transition: all 0.3s;

        }        }

                

        .back-link:hover {        .back-link:hover {

            color: #764ba2;            color: #764ba2;

            transform: translateX(-5px);            transform: translateX(-5px);

        }        }

                

        .info-box {        .info-box {

            background: #e7f3ff;            background: #e7f3ff;

            border-left: 4px solid #667eea;            border-left: 4px solid #667eea;

            padding: 15px;            padding: 15px;

            margin-top: 20px;            margin-top: 20px;

            border-radius: 8px;            border-radius: 8px;

        }        }

                

        .info-box h4 {        .info-box h4 {

            color: #667eea;            color: #667eea;

            margin-bottom: 8px;            margin-bottom: 8px;

        }        }

                

        .info-box p {        .info-box p {

            color: #555;            color: #555;

            font-size: 0.9rem;            font-size: 0.9rem;

            line-height: 1.6;            line-height: 1.6;

        }        }

        

        .comparison-section {        @media (max-width: 768px) {

            display: grid;            .layout {

            grid-template-columns: 1fr 1fr;                grid-template-columns: 1fr;

            gap: 20px;            }

            margin-top: 30px;            

        }            .result-cards {

                grid-template-columns: 1fr;

        .comparison-card {            }

            background: white;            

            padding: 25px;            h1 {

            border-radius: 15px;                font-size: 1.6rem;

            box-shadow: 0 4px 12px rgba(0,0,0,0.1);            }

        }        }

    </style>

        .comparison-card h3 {</head>

            color: #667eea;<body>

            margin-bottom: 15px;    <div class="container">

        }        <h1><i class="fas fa-percentage"></i> Compound Interest Calculator</h1>

        <p class="subtitle">Calculate compound interest earnings over time</p>

        .progress-bar {        <div class="input-group">

            background: #e0e0e0;            <label>Principal Amount ($)</label>

            border-radius: 10px;            <input type="number" id="principal" value="10000" min="0" step="100">

            height: 30px;        </div>

            overflow: hidden;        <div class="input-group">

            position: relative;            <label>Annual Interest Rate (%)</label>

            margin: 10px 0;            <input type="number" id="rate" value="5" step="0.1" min="0" max="100">

        }        </div>

        <div class="input-group">

        .progress-fill {            <label>Time Period (years)</label>

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);            <input type="number" id="time" value="10" min="0.1" step="0.5">

            height: 100%;        </div>

            display: flex;        <div class="input-group">

            align-items: center;            <label>Compound Frequency</label>

            justify-content: center;            <select id="frequency" style="width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem;">

            color: white;                <option value="1">Annually</option>

            font-weight: 600;                <option value="2">Semi-Annually</option>

            font-size: 0.9rem;                <option value="4">Quarterly</option>

            transition: width 1s ease;                <option value="12" selected>Monthly</option>

        }                <option value="52">Weekly</option>

                        <option value="365">Daily</option>

        @media (max-width: 768px) {            </select>

            .layout {        </div>

                grid-template-columns: 1fr;        <button class="btn" onclick="calc()"><i class="fas fa-calculator"></i> Calculate Compound Interest</button>

            }        <div class="result" id="result">

                        <h2>Future Value</h2>

            .result-cards {            <div class="result-value" id="value">$0</div>

                grid-template-columns: 1fr;            <p id="interest" style="font-size:1.1rem;margin:10px 0;color:#333"></p>

            }            <p id="roi" style="font-size:1rem;color:#666"></p>

        </div>

            .comparison-section {        <a href="../../calculatorlooop.html" class="back-link"><i class="fas fa-arrow-left"></i> Back to All Calculators</a>

                grid-template-columns: 1fr;    </div>

            }    <script>

                    function calc(){

            h1 {            const p=parseFloat(document.getElementById('principal').value);

                font-size: 1.6rem;            const r=parseFloat(document.getElementById('rate').value)/100;

            }            const t=parseFloat(document.getElementById('time').value);

        }            const n=parseFloat(document.getElementById('frequency').value);

    </style>            

</head>            if(p>0&&r>=0&&t>0&&n>0){

<body>                const futureValue=p*Math.pow(1+r/n,n*t);

    <div class="container">                const totalInterest=futureValue-p;

        <h1><i class="fas fa-chart-line"></i> Advanced Compound Interest Calculator</h1>                const roi=((totalInterest/p)*100).toFixed(2);

        <p class="subtitle">Calculate returns with detailed breakdown, charts, and yearly projections</p>                

                        document.getElementById('value').textContent='$'+futureValue.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2});

        <div class="layout">                document.getElementById('interest').textContent='Total Interest Earned: $'+totalInterest.toLocaleString('en-US',{minimumFractionDigits:2,maximumFractionDigits:2});

            <!-- Input Section -->                document.getElementById('roi').textContent='Return on Investment: '+roi+'%';

            <div class="input-section">                document.getElementById('result').style.display='block';

                <h2 style="margin-bottom: 20px; color: #1a1a2e;"><i class="fas fa-calculator"></i> Investment Details</h2>            }else{

                                alert('Please enter valid positive values');

                <div class="input-group">            }

                    <label for="principal"><i class="fas fa-rupee-sign"></i> Principal Amount (₹)</label>        }

                    <input type="number" id="principal" value="100000" placeholder="100000">        

                </div>        // Auto-calculate on input change

                        document.querySelectorAll('input, select').forEach(el=>el.addEventListener('input',calc));

                <div class="input-group">        calc();

                    <label for="rate"><i class="fas fa-percentage"></i> Annual Interest Rate (%)</label>    </script>

                    <div class="range-container"></body>

                        <input type="range" id="rateRange" min="1" max="30" value="8" step="0.1"></html>
                        <input type="number" id="rate" class="range-value" value="8" step="0.1" min="1" max="30">
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="time"><i class="fas fa-clock"></i> Time Period (Years)</label>
                    <div class="range-container">
                        <input type="range" id="timeRange" min="1" max="50" value="10">
                        <input type="number" id="time" class="range-value" value="10" min="1" max="50">
                    </div>
                </div>

                <div class="input-group">
                    <label for="frequency"><i class="fas fa-sync-alt"></i> Compound Frequency</label>
                    <select id="frequency">
                        <option value="1">Annually (1x per year)</option>
                        <option value="2">Semi-Annually (2x per year)</option>
                        <option value="4">Quarterly (4x per year)</option>
                        <option value="12" selected>Monthly (12x per year)</option>
                        <option value="52">Weekly (52x per year)</option>
                        <option value="365">Daily (365x per year)</option>
                    </select>
                </div>

                <div class="input-group">
                    <label for="contribution"><i class="fas fa-plus-circle"></i> Monthly Contribution (₹)</label>
                    <input type="number" id="contribution" value="5000" placeholder="5000">
                </div>
                
                <button class="btn" onclick="calculateCompound()">
                    <i class="fas fa-calculator"></i> Calculate Returns
                </button>

                <div class="info-box">
                    <h4><i class="fas fa-lightbulb"></i> Pro Tip</h4>
                    <p>Monthly compounding with regular contributions can significantly boost your returns. Even small amounts add up over time!</p>
                </div>
            </div>

            <!-- Result Section -->
            <div class="result-section">
                <h2 style="margin-bottom: 20px;"><i class="fas fa-chart-pie"></i> Investment Summary</h2>
                
                <div class="result-cards">
                    <div class="result-card">
                        <h3><i class="fas fa-wallet"></i> Future Value</h3>
                        <div class="value" id="futureValue">₹0</div>
                    </div>
                    
                    <div class="result-card">
                        <h3><i class="fas fa-money-bill-wave"></i> Total Invested</h3>
                        <div class="value" id="totalInvested">₹0</div>
                    </div>
                    
                    <div class="result-card">
                        <h3><i class="fas fa-trophy"></i> Total Interest</h3>
                        <div class="value" id="totalInterest">₹0</div>
                    </div>
                    
                    <div class="result-card">
                        <h3><i class="fas fa-chart-bar"></i> ROI</h3>
                        <div class="value" id="roi">0%</div>
                    </div>
                </div>

                <!-- Chart -->
                <div class="chart-container">
                    <canvas id="compoundChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Comparison Section -->
        <div class="comparison-section">
            <div class="comparison-card">
                <h3><i class="fas fa-balance-scale"></i> Investment vs Interest Breakdown</h3>
                <div style="margin-top: 20px;">
                    <div style="margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span style="color: #666; font-weight: 600;">Principal + Contributions</span>
                            <span id="investedPercent" style="color: #667eea; font-weight: 700;">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="investedBar" style="width: 0%;">₹0</div>
                        </div>
                    </div>
                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                            <span style="color: #666; font-weight: 600;">Interest Earned</span>
                            <span id="interestPercent" style="color: #10b981; font-weight: 700;">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="interestBar" style="width: 0%; background: linear-gradient(135deg, #10b981 0%, #059669 100%);">₹0</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="comparison-card">
                <h3><i class="fas fa-chart-area"></i> Growth Projection</h3>
                <div style="margin-top: 20px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #666;">Average Monthly Growth:</span>
                        <span id="monthlyGrowth" style="color: #667eea; font-weight: 700;">₹0</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #666;">Average Yearly Growth:</span>
                        <span id="yearlyGrowth" style="color: #667eea; font-weight: 700;">₹0</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span style="color: #666;">Effective Annual Rate:</span>
                        <span id="effectiveRate" style="color: #10b981; font-weight: 700;">0%</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-top: 15px; padding-top: 15px; border-top: 2px solid #e0e0e0;">
                        <span style="color: #333; font-weight: 600;">Final Wealth Multiple:</span>
                        <span id="wealthMultiple" style="color: #764ba2; font-weight: 700; font-size: 1.2rem;">0x</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Yearly Breakdown Table -->
        <div class="full-width-section">
            <div class="breakdown-table">
                <h2 style="margin-bottom: 20px; color: #1a1a2e;"><i class="fas fa-table"></i> Year-by-Year Breakdown</h2>
                <table id="breakdownTable">
                    <thead>
                        <tr>
                            <th>Year</th>
                            <th>Starting Balance</th>
                            <th>Contributions</th>
                            <th>Interest Earned</th>
                            <th>Ending Balance</th>
                            <th>Cumulative Gain</th>
                        </tr>
                    </thead>
                    <tbody id="breakdownBody">
                        <tr><td colspan="6" style="text-align: center; color: #999; padding: 30px;">Click Calculate to see detailed breakdown</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <a href="../../calculatorlooop.html" class="back-link"><i class="fas fa-arrow-left"></i> Back to Calculator Hub</a>
    </div>

    <script>
        let compoundChart = null;

        // Sync range sliders with number inputs
        document.getElementById('rateRange').addEventListener('input', (e) => {
            document.getElementById('rate').value = e.target.value;
            calculateCompound();
        });
        document.getElementById('rate').addEventListener('input', (e) => {
            document.getElementById('rateRange').value = e.target.value;
            calculateCompound();
        });
        document.getElementById('timeRange').addEventListener('input', (e) => {
            document.getElementById('time').value = e.target.value;
            calculateCompound();
        });
        document.getElementById('time').addEventListener('input', (e) => {
            document.getElementById('timeRange').value = e.target.value;
            calculateCompound();
        });

        // Auto-calculate on input change
        document.querySelectorAll('input, select').forEach(el => {
            el.addEventListener('input', calculateCompound);
        });

        function formatCurrency(amount) {
            return '₹' + amount.toLocaleString('en-IN', {minimumFractionDigits: 0, maximumFractionDigits: 0});
        }

        function calculateCompound() {
            const principal = parseFloat(document.getElementById('principal').value) || 0;
            const rate = parseFloat(document.getElementById('rate').value) || 0;
            const time = parseFloat(document.getElementById('time').value) || 0;
            const frequency = parseFloat(document.getElementById('frequency').value) || 12;
            const monthlyContribution = parseFloat(document.getElementById('contribution').value) || 0;

            if (principal <= 0 || time <= 0) return;

            const r = rate / 100;
            const monthlyRate = r / 12;
            
            // Calculate compound interest on principal
            const futureValuePrincipal = principal * Math.pow(1 + r / frequency, frequency * time);
            
            // Calculate future value of monthly contributions
            const months = time * 12;
            let futureValueContributions = 0;
            if (monthlyContribution > 0) {
                futureValueContributions = monthlyContribution * ((Math.pow(1 + monthlyRate, months) - 1) / monthlyRate);
            }
            
            const totalFutureValue = futureValuePrincipal + futureValueContributions;
            const totalInvested = principal + (monthlyContribution * months);
            const totalInterest = totalFutureValue - totalInvested;
            const roi = ((totalInterest / totalInvested) * 100).toFixed(2);

            // Update result cards
            document.getElementById('futureValue').textContent = formatCurrency(totalFutureValue);
            document.getElementById('totalInvested').textContent = formatCurrency(totalInvested);
            document.getElementById('totalInterest').textContent = formatCurrency(totalInterest);
            document.getElementById('roi').textContent = roi + '%';

            // Update comparison section
            const investedPercent = ((totalInvested / totalFutureValue) * 100).toFixed(1);
            const interestPercent = ((totalInterest / totalFutureValue) * 100).toFixed(1);
            
            document.getElementById('investedPercent').textContent = investedPercent + '%';
            document.getElementById('interestPercent').textContent = interestPercent + '%';
            document.getElementById('investedBar').style.width = investedPercent + '%';
            document.getElementById('investedBar').textContent = formatCurrency(totalInvested);
            document.getElementById('interestBar').style.width = interestPercent + '%';
            document.getElementById('interestBar').textContent = formatCurrency(totalInterest);

            // Calculate growth metrics
            const monthlyGrowth = totalInterest / months;
            const yearlyGrowth = totalInterest / time;
            const effectiveRate = (Math.pow(1 + r / frequency, frequency) - 1) * 100;
            const wealthMultiple = (totalFutureValue / totalInvested).toFixed(2);

            document.getElementById('monthlyGrowth').textContent = formatCurrency(monthlyGrowth);
            document.getElementById('yearlyGrowth').textContent = formatCurrency(yearlyGrowth);
            document.getElementById('effectiveRate').textContent = effectiveRate.toFixed(2) + '%';
            document.getElementById('wealthMultiple').textContent = wealthMultiple + 'x';

            // Generate yearly breakdown
            generateBreakdown(principal, rate, time, frequency, monthlyContribution);

            // Update chart
            updateChart(principal, rate, time, monthlyContribution);
        }

        function generateBreakdown(principal, rate, time, frequency, monthlyContribution) {
            const tbody = document.getElementById('breakdownBody');
            tbody.innerHTML = '';
            
            const r = rate / 100;
            const monthlyRate = r / 12;
            let balance = principal;
            
            for (let year = 1; year <= time; year++) {
                const startBalance = balance;
                const yearlyContributions = monthlyContribution * 12;
                
                // Calculate balance after contributions and interest for this year
                for (let month = 1; month <= 12; month++) {
                    balance += monthlyContribution;
                    balance = balance * (1 + monthlyRate);
                }
                
                const endBalance = balance;
                const interestEarned = endBalance - startBalance - yearlyContributions;
                const cumulativeGain = endBalance - principal - (monthlyContribution * 12 * year);
                
                const row = tbody.insertRow();
                row.innerHTML = `
                    <td style="font-weight: 600;">${year}</td>
                    <td>${formatCurrency(startBalance)}</td>
                    <td style="color: #667eea;">${formatCurrency(yearlyContributions)}</td>
                    <td style="color: #10b981; font-weight: 600;">${formatCurrency(interestEarned)}</td>
                    <td style="font-weight: 700; color: #764ba2;">${formatCurrency(endBalance)}</td>
                    <td style="color: #059669; font-weight: 600;">${formatCurrency(cumulativeGain)}</td>
                `;
            }
        }

        function updateChart(principal, rate, time, monthlyContribution) {
            const r = rate / 100;
            const monthlyRate = r / 12;
            
            const labels = [];
            const investedData = [];
            const interestData = [];
            
            let balance = principal;
            let totalContributions = principal;
            
            for (let year = 0; year <= time; year++) {
                labels.push('Year ' + year);
                investedData.push(totalContributions);
                interestData.push(balance);
                
                if (year < time) {
                    // Calculate next year
                    for (let month = 1; month <= 12; month++) {
                        balance += monthlyContribution;
                        balance = balance * (1 + monthlyRate);
                        totalContributions += monthlyContribution;
                    }
                }
            }

            const ctx = document.getElementById('compoundChart').getContext('2d');
            
            if (compoundChart) {
                compoundChart.destroy();
            }

            compoundChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'Total Invested',
                            data: investedData,
                            borderColor: '#667eea',
                            backgroundColor: 'rgba(102, 126, 234, 0.1)',
                            fill: true,
                            tension: 0.4
                        },
                        {
                            label: 'Future Value',
                            data: interestData,
                            borderColor: '#10b981',
                            backgroundColor: 'rgba(16, 185, 129, 0.1)',
                            fill: true,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.dataset.label + ': ₹' + context.parsed.y.toLocaleString('en-IN');
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                callback: function(value) {
                                    return '₹' + (value / 1000).toFixed(0) + 'K';
                                }
                            }
                        }
                    }
                }
            });
        }

        // Initial calculation
        calculateCompound();
    </script>
</body>
</html>
