<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Crypto Converter | Real-time Cryptocurrency Price Converter</title>
    <meta name="description" content="Convert cryptocurrency prices in real-time. Bitcoin, Ethereum, BNB, Cardano, Ripple and more. Live market rates with 24h price changes.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', 'Segoe UI', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; width: 100%; background: white; border-radius: 25px; box-shadow: 0 25px 70px rgba(0,0,0,0.3); padding: 50px; margin: 0 auto; }
        h1 { color: #1a1a2e; text-align: center; margin-bottom: 15px; font-size: 2.8rem; font-weight: 800; background: linear-gradient(135deg, #667eea, #764ba2); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .subtitle { text-align: center; color: #666; margin-bottom: 40px; font-size: 1.2rem; }
        .layout { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 40px; }
        .converter-section { background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .input-group { margin-bottom: 30px; position: relative; }
        label { display: block; margin-bottom: 12px; color: #1a1a2e; font-weight: 700; font-size: 1rem; }
        .amount-input { width: 100%; padding: 18px 20px; border: 3px solid #e0e0e0; border-radius: 15px; font-size: 1.3rem; transition: all 0.3s; background: white; font-weight: 600; }
        .amount-input:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15); }
        select { width: 100%; padding: 18px 20px; border: 3px solid #e0e0e0; border-radius: 15px; font-size: 1.1rem; background: white; cursor: pointer; transition: all 0.3s; font-weight: 600; appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23667eea' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 15px center; padding-right: 50px; }
        select:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15); }
        .crypto-option { font-weight: 600; }
        .swap-btn { width: 60px; height: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 50%; font-size: 1.5rem; cursor: pointer; margin: 20px auto; display: block; box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4); transition: all 0.3s; }
        .swap-btn:hover { transform: rotate(180deg) scale(1.1); box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5); }
        .convert-btn { width: 100%; padding: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 15px; font-size: 1.3rem; cursor: pointer; margin-top: 25px; font-weight: 800; box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4); transition: all 0.3s; }
        .convert-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5); }
        .result-section { display: flex; flex-direction: column; gap: 25px; }
        .result-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 50px; border-radius: 25px; color: white; text-align: center; box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4); }
        .result-card h2 { font-size: 1.3rem; opacity: 0.9; margin-bottom: 20px; }
        .result-value { font-size: 4rem; font-weight: 900; margin-bottom: 10px; word-break: break-all; }
        .result-subtext { font-size: 1.1rem; opacity: 0.85; }
        .price-info { background: white; padding: 30px; border-radius: 20px; box-shadow: 0 6px 20px rgba(0,0,0,0.08); }
        .price-info h3 { color: #1a1a2e; margin-bottom: 20px; font-size: 1.4rem; font-weight: 700; }
        .price-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f0f0f0; }
        .price-row:last-child { border-bottom: none; }
        .price-label { color: #666; font-weight: 600; }
        .price-value { color: #1a1a2e; font-weight: 700; font-size: 1.1rem; }
        .price-change { padding: 6px 12px; border-radius: 8px; font-weight: 700; font-size: 0.9rem; }
        .positive { background: #d1fae5; color: #166534; }
        .negative { background: #fee2e2; color: #991b1b; }
        .crypto-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 30px; }
        .crypto-card { background: white; padding: 20px; border-radius: 15px; text-align: center; box-shadow: 0 4px 12px rgba(0,0,0,0.08); cursor: pointer; transition: all 0.3s; border: 2px solid transparent; }
        .crypto-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); border-color: #667eea; }
        .crypto-icon { font-size: 2.5rem; margin-bottom: 10px; }
        .crypto-name { font-weight: 700; color: #1a1a2e; margin-bottom: 5px; }
        .crypto-price { color: #667eea; font-weight: 600; font-size: 0.95rem; }
        .loading { text-align: center; color: #667eea; font-size: 1.2rem; padding: 30px; }
        .error { background: #fee2e2; color: #991b1b; padding: 15px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #991b1b; }
        .info-box { background: #e0e7ff; border-left: 5px solid #667eea; padding: 20px; margin-top: 30px; border-radius: 12px; }
        .info-box h4 { color: #3730a3; margin-bottom: 10px; font-weight: 700; }
        .info-box p { color: #3730a3; font-size: 0.95rem; line-height: 1.7; }
        .back-link { display: inline-block; margin-top: 40px; color: #667eea; text-decoration: none; font-weight: 700; font-size: 1.1rem; transition: all 0.3s; }
        .back-link:hover { color: #764ba2; transform: translateX(-5px); }
        @media (max-width: 1024px) { .layout { grid-template-columns: 1fr; } .crypto-grid { grid-template-columns: repeat(2, 1fr); } h1 { font-size: 2.2rem; } .result-value { font-size: 3rem; } }
        @media (max-width: 640px) { .crypto-grid { grid-template-columns: 1fr; } .container { padding: 30px; } h1 { font-size: 1.8rem; } .result-value { font-size: 2.5rem; } }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fab fa-bitcoin"></i> Advanced Crypto Converter</h1>
        <p class="subtitle">Real-time cryptocurrency price conversion with live market rates</p>
        
        <div id="errorMsg" class="error" style="display: none;"></div>
        
        <div class="layout">
            <div class="converter-section">
                <h2 style="margin-bottom: 30px; color: #1a1a2e;"><i class="fas fa-exchange-alt"></i> Currency Converter</h2>
                
                <div class="input-group">
                    <label for="fromAmount"><i class="fas fa-coins"></i> Amount</label>
                    <input type="number" id="fromAmount" class="amount-input" value="1" min="0" step="0.00000001" placeholder="Enter amount">
                </div>
                
                <div class="input-group">
                    <label for="fromCurrency"><i class="fas fa-arrow-up"></i> From</label>
                    <select id="fromCurrency" class="crypto-option">
                        <option value="bitcoin" data-symbol="BTC">Bitcoin (BTC)</option>
                        <option value="ethereum" data-symbol="ETH">Ethereum (ETH)</option>
                        <option value="binancecoin" data-symbol="BNB">Binance Coin (BNB)</option>
                        <option value="cardano" data-symbol="ADA">Cardano (ADA)</option>
                        <option value="ripple" data-symbol="XRP">Ripple (XRP)</option>
                        <option value="solana" data-symbol="SOL">Solana (SOL)</option>
                        <option value="polkadot" data-symbol="DOT">Polkadot (DOT)</option>
                        <option value="dogecoin" data-symbol="DOGE">Dogecoin (DOGE)</option>
                        <option value="shiba-inu" data-symbol="SHIB">Shiba Inu (SHIB)</option>
                        <option value="litecoin" data-symbol="LTC">Litecoin (LTC)</option>
                    </select>
                </div>
                
                <button class="swap-btn" onclick="swapCurrencies()" title="Swap currencies">
                    <i class="fas fa-exchange-alt"></i>
                </button>
                
                <div class="input-group">
                    <label for="toCurrency"><i class="fas fa-arrow-down"></i> To</label>
                    <select id="toCurrency" class="crypto-option">
                        <option value="usd" data-symbol="USD" selected>US Dollar (USD)</option>
                        <option value="eur" data-symbol="EUR">Euro (EUR)</option>
                        <option value="gbp" data-symbol="GBP">British Pound (GBP)</option>
                        <option value="inr" data-symbol="INR">Indian Rupee (INR)</option>
                        <option value="jpy" data-symbol="JPY">Japanese Yen (JPY)</option>
                        <option value="bitcoin" data-symbol="BTC">Bitcoin (BTC)</option>
                        <option value="ethereum" data-symbol="ETH">Ethereum (ETH)</option>
                        <option value="binancecoin" data-symbol="BNB">Binance Coin (BNB)</option>
                    </select>
                </div>
                
                <button class="convert-btn" onclick="convertCrypto()">
                    <i class="fas fa-sync-alt"></i> Convert Now
                </button>
                
                <div class="info-box">
                    <h4><i class="fas fa-info-circle"></i> Live Market Data</h4>
                    <p>Prices are fetched in real-time from CoinGecko API. Rates update automatically for accurate conversions.</p>
                </div>
            </div>
            
            <div class="result-section">
                <div class="result-card">
                    <h2><i class="fas fa-chart-line"></i> Converted Amount</h2>
                    <div class="result-value" id="resultValue">0.00</div>
                    <div class="result-subtext" id="resultText">Enter amount and convert</div>
                </div>
                
                <div class="price-info" id="priceInfo">
                    <h3><i class="fas fa-info-circle"></i> Exchange Rate Details</h3>
                    <div id="loadingMsg" class="loading">
                        <i class="fas fa-spinner fa-spin"></i> Loading live prices...
                    </div>
                    <div id="priceDetails" style="display: none;">
                        <div class="price-row">
                            <span class="price-label">Current Rate</span>
                            <span class="price-value" id="currentRate">-</span>
                        </div>
                        <div class="price-row">
                            <span class="price-label">24h Change</span>
                            <span class="price-change" id="priceChange">-</span>
                        </div>
                        <div class="price-row">
                            <span class="price-label">Market Cap</span>
                            <span class="price-value" id="marketCap">-</span>
                        </div>
                        <div class="price-row">
                            <span class="price-label">Last Updated</span>
                            <span class="price-value" id="lastUpdated">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="crypto-grid" id="cryptoGrid">
            <div class="loading">
                <i class="fas fa-spinner fa-spin"></i> Loading popular cryptocurrencies...
            </div>
        </div>
        
        <a href="../../calculatorlooop.html" class="back-link">
            <i class="fas fa-arrow-left"></i> Back to Calculator Hub
        </a>
    </div>

    <script>
        let cryptoPrices = {};
        let fiatRates = { usd: 1, eur: 0.92, gbp: 0.79, inr: 83.12, jpy: 149.50 };

        // Fetch crypto prices from CoinGecko API
        async function fetchCryptoPrices() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin,ethereum,binancecoin,cardano,ripple,solana,polkadot,dogecoin,shiba-inu,litecoin&vs_currencies=usd,eur,gbp,inr,jpy&include_market_cap=true&include_24hr_change=true');
                const data = await response.json();
                cryptoPrices = data;
                displayPopularCryptos();
                document.getElementById('loadingMsg').style.display = 'none';
                document.getElementById('priceDetails').style.display = 'block';
                convertCrypto();
            } catch (error) {
                console.error('Error fetching prices:', error);
                showError('Unable to fetch live prices. Using cached rates.');
                // Fallback prices
                cryptoPrices = {
                    bitcoin: { usd: 43000, eur: 39560, gbp: 33970, inr: 3577600, jpy: 6427000, usd_24h_change: 2.5, usd_market_cap: 840000000000 },
                    ethereum: { usd: 2250, eur: 2070, gbp: 1777, inr: 187200, jpy: 336375, usd_24h_change: 1.8, usd_market_cap: 270000000000 },
                    binancecoin: { usd: 310, eur: 285, gbp: 245, inr: 25782, jpy: 46345, usd_24h_change: 0.9, usd_market_cap: 47000000000 }
                };
                displayPopularCryptos();
                convertCrypto();
            }
        }

        function displayPopularCryptos() {
            const grid = document.getElementById('cryptoGrid');
            const cryptos = [
                { id: 'bitcoin', name: 'Bitcoin', symbol: 'BTC', icon: '₿' },
                { id: 'ethereum', name: 'Ethereum', symbol: 'ETH', icon: 'Ξ' },
                { id: 'binancecoin', name: 'BNB', symbol: 'BNB', icon: '💰' },
                { id: 'cardano', name: 'Cardano', symbol: 'ADA', icon: '₳' },
                { id: 'ripple', name: 'Ripple', symbol: 'XRP', icon: '✕' },
                { id: 'solana', name: 'Solana', symbol: 'SOL', icon: '◎' }
            ];

            grid.innerHTML = cryptos.map(crypto => {
                const price = cryptoPrices[crypto.id]?.usd || 0;
                const change = cryptoPrices[crypto.id]?.usd_24h_change || 0;
                return `
                    <div class="crypto-card" onclick="selectCrypto('${crypto.id}')">
                        <div class="crypto-icon">${crypto.icon}</div>
                        <div class="crypto-name">${crypto.name}</div>
                        <div class="crypto-price">$${formatNumber(price)}</div>
                        <div class="price-change ${change >= 0 ? 'positive' : 'negative'}" style="margin-top: 8px; font-size: 0.85rem;">
                            ${change >= 0 ? '▲' : '▼'} ${Math.abs(change).toFixed(2)}%
                        </div>
                    </div>
                `;
            }).join('');
        }

        function selectCrypto(cryptoId) {
            document.getElementById('fromCurrency').value = cryptoId;
            convertCrypto();
        }

        function swapCurrencies() {
            const from = document.getElementById('fromCurrency').value;
            const to = document.getElementById('toCurrency').value;
            document.getElementById('fromCurrency').value = to;
            document.getElementById('toCurrency').value = from;
            convertCrypto();
        }

        function convertCrypto() {
            const amount = parseFloat(document.getElementById('fromAmount').value) || 0;
            const fromCurrency = document.getElementById('fromCurrency').value;
            const toCurrency = document.getElementById('toCurrency').value;
            const fromSymbol = document.getElementById('fromCurrency').selectedOptions[0].dataset.symbol;
            const toSymbol = document.getElementById('toCurrency').selectedOptions[0].dataset.symbol;

            if (amount <= 0) {
                document.getElementById('resultValue').textContent = '0.00';
                document.getElementById('resultText').textContent = 'Enter amount to convert';
                return;
            }

            let result = 0;
            let rate = 0;

            // Crypto to Fiat
            if (cryptoPrices[fromCurrency]) {
                const basePrice = cryptoPrices[fromCurrency][toCurrency] || cryptoPrices[fromCurrency].usd;
                if (fiatRates[toCurrency]) {
                    rate = cryptoPrices[fromCurrency].usd * fiatRates[toCurrency];
                    result = amount * rate;
                } else if (cryptoPrices[toCurrency]) {
                    // Crypto to Crypto
                    const fromUSD = cryptoPrices[fromCurrency].usd;
                    const toUSD = cryptoPrices[toCurrency].usd;
                    rate = fromUSD / toUSD;
                    result = amount * rate;
                } else {
                    result = amount * basePrice;
                    rate = basePrice;
                }
            } else {
                result = amount;
                rate = 1;
            }

            document.getElementById('resultValue').textContent = formatNumber(result);
            document.getElementById('resultText').textContent = `${amount} ${fromSymbol} = ${formatNumber(result)} ${toSymbol}`;

            // Update price details
            if (cryptoPrices[fromCurrency]) {
                const crypto = cryptoPrices[fromCurrency];
                document.getElementById('currentRate').textContent = `1 ${fromSymbol} = ${formatNumber(rate)} ${toSymbol}`;
                
                const change = crypto.usd_24h_change || 0;
                const changeEl = document.getElementById('priceChange');
                changeEl.textContent = `${change >= 0 ? '+' : ''}${change.toFixed(2)}%`;
                changeEl.className = `price-change ${change >= 0 ? 'positive' : 'negative'}`;
                
                document.getElementById('marketCap').textContent = `$${formatLargeNumber(crypto.usd_market_cap)}`;
                document.getElementById('lastUpdated').textContent = new Date().toLocaleTimeString();
            }
        }

        function formatNumber(num) {
            if (num >= 1) return num.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            if (num >= 0.01) return num.toFixed(4);
            return num.toFixed(8);
        }

        function formatLargeNumber(num) {
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            return num.toFixed(0);
        }

        function showError(message) {
            const errorEl = document.getElementById('errorMsg');
            errorEl.textContent = message;
            errorEl.style.display = 'block';
            setTimeout(() => errorEl.style.display = 'none', 5000);
        }

        // Auto-convert on input
        document.getElementById('fromAmount').addEventListener('input', convertCrypto);
        document.getElementById('fromCurrency').addEventListener('change', convertCrypto);
        document.getElementById('toCurrency').addEventListener('change', convertCrypto);

        // Initialize
        fetchCryptoPrices();
        setInterval(fetchCryptoPrices, 60000); // Update every minute
    </script>
</body>
</html>
